# üöÄ REDB Framework - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üìñ –í–≤–µ–¥–µ–Ω–∏–µ

**REDB (Relational Entity Database)** - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è C#/.NET, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Entity-Attribute-Value (EAV)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Entity Framework Core. –§—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–∏—Ö —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏.

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

- **EAV –º–æ–¥–µ–ª—å** - –æ–±—ä–µ–∫—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
- **–°—Ö–µ–º–æ-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ C# –∫–ª–∞—Å—Å–æ–≤
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- **–î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö  
- **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞** - –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê—É–¥–∏—Ç –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–æ–≤

### üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î  
‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ C# –∫–ª–∞—Å—Å—ã  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL, SQL Server, SQLite  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏  

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

REDB –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

### üß© –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **IRedbService** - –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ –µ–¥–∏–Ω—ã–π API. –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Facade.

```csharp
public interface IRedbService : 
    ISchemeSyncProvider,        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º
    IObjectStorageProvider,     // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
    ITreeProvider,             // –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
    IPermissionProvider,       // –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
    IQueryableProvider,        // LINQ –∑–∞–ø—Ä–æ—Å—ã
    IValidationProvider        // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
{
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
    IUserProvider UserProvider { get; }
    IRoleProvider RoleProvider { get; }
    
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    RedbServiceConfiguration Configuration { get; }
    IRedbSecurityContext SecurityContext { get; }
}
```

#### 2. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤** üîß

**IObjectStorageProvider** - –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏:
- `LoadAsync<TProps>()` - –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
- `SaveAsync<TProps>()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —Å—Ö–µ–º
- `DeleteAsync<TProps>()` - —É–¥–∞–ª–µ–Ω–∏–µ —Å –∞—É–¥–∏—Ç–æ–º –≤ `_deleted_objects`

**ISchemeSyncProvider** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º:
- `EnsureSchemeFromTypeAsync<TProps>()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –∏–∑ C# –∫–ª–∞—Å—Å–∞
- `SyncStructuresFromTypeAsync<TProps>()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ–ª–µ–π

**IPermissionProvider** - –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- `CanUserSelectObject()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ
- `CanUserEditObject()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
- `GetEffectivePermissionsAsync()` - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞ —Å —É—á–µ—Ç–æ–º —Ä–æ–ª–µ–π

**ITreeProvider** - –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- `GetTreeAsync<TProps>()` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ä–µ–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤
- `GetChildrenAsync<TProps>()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

#### 3. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** üìä

**RedbObject<TProps>** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞:
```csharp
public class RedbObject<TProps> : RedbObject, IRedbObject<TProps> 
    where TProps : class, new()
{
    public TProps properties { get; set; } = new TProps();
    
    // –ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è –æ—Ç IRedbObject
    public long Id { get; set; }
    public long SchemeId { get; set; }
    public string Name { get; set; }
    public long? ParentId { get; set; }
    
    // –ê—É–¥–∏—Ç –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    public DateTime DateCreate { get; set; }
    public DateTime DateModify { get; set; }
    public long OwnerId { get; set; }
    public long WhoChangeId { get; set; }
}
```

**–ü—Ä–∏–º–µ—Ä —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤:**
```csharp
public class AnalyticsRecordProps
{
    public double? Costs { get; set; }
    public int? Rate { get; set; }
    public string? Description { get; set; }
    public RedbObject<AnalyticsMetricsProps>? Metrics { get; set; }
    public RedbObject<AnalyticsMetricsProps>[]? MetricsArray { get; set; }
}
```

#### 4. **RedbObjectFactory** - –£–º–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ üè≠

**RedbObjectFactory** - —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å-—Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π:

```csharp
public static class RedbObjectFactory
{
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏ (–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    public static void Initialize(ISchemeSyncProvider provider);
    
    // –°–æ–∑–¥–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å—Ö–µ–º—ã
    public static Task<IRedbObject<TProps>> CreateAsync<TProps>(TProps properties);
    
    // –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
    public static IRedbObject<TProps> CreateFast<TProps>(TProps properties);
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    public static Task<IRedbObject<TProps>> CreateChildAsync<TProps>(IRedbObject parent, TProps properties);
    
    // –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∫–µ—à–∞
    public static Task<IRedbObject<TProps>[]> CreateBatchAsync<TProps>(params TProps[] propertiesArray);
}
```

**üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏:**

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É –¥–ª—è —Ç–∏–ø–∞  
‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏–π** - —É–¥–æ–±–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤  

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏:**
```csharp
// 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏ (–≤ Program.cs –∏–ª–∏ Startup.cs)
RedbObjectFactory.Initialize(serviceProvider.GetService<ISchemeSyncProvider>());

// 2. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
var employee = await RedbObjectFactory.CreateAsync(new EmployeeProps 
{
    Name = "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    Position = "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
    Salary = 75000
});
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: scheme_id, date_create, owner_id, who_change_id

// 3. –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î (–¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
var fastEmployee = RedbObjectFactory.CreateFast(new EmployeeProps 
{
    Name = "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
    Position = "–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫"
});
// –°—Ö–µ–º–∞ –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

// 4. –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–π)
var department = await redbService.LoadAsync<DepartmentProps>(departmentId);
var employee = await RedbObjectFactory.CreateChildAsync(department, new EmployeeProps 
{
    Name = "–°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤",
    Position = "–ú–µ–Ω–µ–¥–∂–µ—Ä"
});
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω parent_id = department.Id

// 5. –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π (–ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫–µ—à–∞ —Å—Ö–µ–º)
var employees = await RedbObjectFactory.CreateBatchAsync(
    new EmployeeProps { Name = "–ò–≤–∞–Ω", Position = "Dev" },
    new EmployeeProps { Name = "–ü–µ—Ç—Ä", Position = "QA" },
    new EmployeeProps { Name = "–°–∏–¥–æ—Ä", Position = "PM" }
);
// –ö–µ—à —Å—Ö–µ–º—ã –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
```

**‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
```csharp
// –î–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CreateFast
var products = new List<IRedbObject<ProductProps>>();
for (int i = 0; i < 10000; i++)
{
    products.Add(RedbObjectFactory.CreateFast(new ProductProps 
    {
        Name = $"Product {i}",
        Price = i * 10
    }));
}
// –ë–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ë–î –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

// –ó–∞—Ç–µ–º –º–∞—Å—Å–æ–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
await redbService.SaveBatchAsync(products);
```

### üé® –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç—ã RedbObjectFactory:

**üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É:**

‚úÖ **CreateAsync()** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ 90% —Å–ª—É—á–∞–µ–≤  
‚ö° **CreateFast()** - –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–º–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ > 1000 –æ–±—ä–µ–∫—Ç–æ–≤)  
üå≥ **CreateChildAsync()** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä  
üì¶ **CreateBatchAsync()** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∫–µ—à–∞  

**üö´ –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É:**

‚ùå –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `LoadAsync()`)  
‚ùå –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª–µ–π  
‚ùå –í unit-—Ç–µ—Å—Ç–∞—Ö –≥–¥–µ –Ω—É–∂–Ω—ã –∑–∞–≥–ª—É—à–∫–∏ (—Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é)  

---

## üå≥ –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

REDB –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `TreeRedbObject<TProps>` –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä `ITreeProvider`.

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

#### **TreeRedbObject<TProps>** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –¥–µ—Ä–µ–≤—å–µ–≤

```csharp
public class TreeRedbObject<TProps> : TreeRedbObject, ITreeRedbObject<TProps>
    where TProps : class, new()
{
    // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–µ—Ä–µ–≤—É
    public ITreeRedbObject<TProps>? Parent { get; set; }
    public ICollection<ITreeRedbObject<TProps>> Children { get; set; }
    
    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–∑–∏—Ü–∏–∏ –≤ –¥–µ—Ä–µ–≤–µ
    public bool IsLeaf => !Children.Any();              // –õ–∏—Å—Ç–æ–≤–æ–π —É–∑–µ–ª?
    public int Level { get; }                           // –£—Ä–æ–≤–µ–Ω—å –≤ –¥–µ—Ä–µ–≤–µ (0 = –∫–æ—Ä–µ–Ω—å)
    public int SubtreeSize { get; }                     // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –ø–æ–¥–¥–µ—Ä–µ–≤–µ
    public int MaxDepth { get; }                        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
    
    // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    public IEnumerable<ITreeRedbObject<TProps>> Ancestors { get; }      // –ü—Ä–µ–¥–∫–∏ (–¥–æ –∫–æ—Ä–Ω—è)
    public IEnumerable<ITreeRedbObject<TProps>> Descendants { get; }    // –ü–æ—Ç–æ–º–∫–∏ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
    
    // –ü–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    public string GetBreadcrumbs(string separator = " > ");             // –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏
    public IEnumerable<long> GetPathIds();                             // –ü—É—Ç—å ID –¥–æ –∫–æ—Ä–Ω—è
    public bool IsDescendantOf(ITreeRedbObject ancestor);              // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–¥—Å—Ç–≤–∞
    public IEnumerable<ITreeRedbObject<TProps>> GetSubtree();          // –ü–æ–¥–¥–µ—Ä–µ–≤–æ
}
```

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã ITreeProvider

```csharp
public interface ITreeProvider
{
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ä–µ–≤–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≥–ª—É–±–∏–Ω—ã
    Task<TreeRedbObject<TProps>> LoadTreeAsync<TProps>(IRedbObject rootObj, int? maxDepth = null);
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –¥–µ—Ç–µ–π
    Task<IEnumerable<TreeRedbObject<TProps>>> GetChildrenAsync<TProps>(IRedbObject parentObj);
    
    // –ü—É—Ç—å –æ—Ç —É–∑–ª–∞ –∫ –∫–æ—Ä–Ω—é
    Task<IEnumerable<TreeRedbObject<TProps>>> GetPathToRootAsync<TProps>(IRedbObject obj);
    
    // –í—Å–µ –ø–æ—Ç–æ–º–∫–∏ —É–∑–ª–∞
    Task<IEnumerable<TreeRedbObject<TProps>>> GetDescendantsAsync<TProps>(IRedbObject parentObj, int? maxDepth = null);
    
    // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∑–ª–∞ –≤ –¥–µ—Ä–µ–≤–µ
    Task MoveObjectAsync(IRedbObject obj, IRedbObject? newParentObj);
}
```

### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

#### **–ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É**

```csharp
public class CategoryProps
{
    public string Code { get; set; } = "";
    public string Description { get; set; } = "";
    public bool IsActive { get; set; } = true;
    public int SortOrder { get; set; } = 0;
    public decimal? Discount { get; set; }
}

// 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
var rootCategory = await RedbObjectFactory.CreateAsync(new CategoryProps 
{
    Code = "ROOT",
    Description = "–í—Å–µ —Ç–æ–≤–∞—Ä—ã",
    IsActive = true
});
rootCategory.name = "üè™ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω";
long rootId = await redbService.SaveAsync(rootCategory);

// 2. –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç parent_id)
var electronics = await RedbObjectFactory.CreateChildAsync(rootCategory, new CategoryProps 
{
    Code = "ELECTRONICS",
    Description = "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –≥–∞–¥–∂–µ—Ç—ã",
    IsActive = true,
    SortOrder = 10
});
electronics.name = "üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞";
await redbService.SaveAsync(electronics);

var clothing = await RedbObjectFactory.CreateChildAsync(rootCategory, new CategoryProps 
{
    Code = "CLOTHING", 
    Description = "–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å",
    IsActive = true,
    SortOrder = 20
});
clothing.name = "üëï –û–¥–µ–∂–¥–∞";
await redbService.SaveAsync(clothing);

// 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π (–≤–Ω—É–∫–æ–≤)
var smartphones = await RedbObjectFactory.CreateChildAsync(electronics, new CategoryProps 
{
    Code = "SMARTPHONES",
    Description = "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã", 
    IsActive = true,
    Discount = 0.05m // 5% —Å–∫–∏–¥–∫–∞
});
smartphones.name = "üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã";
await redbService.SaveAsync(smartphones);

var laptops = await RedbObjectFactory.CreateChildAsync(electronics, new CategoryProps 
{
    Code = "LAPTOPS",
    Description = "–ù–æ—É—Ç–±—É–∫–∏ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã",
    IsActive = true,
    Discount = 0.10m // 10% —Å–∫–∏–¥–∫–∞
});
laptops.name = "üíª –ù–æ—É—Ç–±—É–∫–∏";
await redbService.SaveAsync(laptops);
```

#### **–ü—Ä–∏–º–µ—Ä 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞**

```csharp
// –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≥–ª—É–±–∏–Ω—ã
var categoryTree = await redbService.LoadTreeAsync<CategoryProps>(rootCategory, maxDepth: 5);

Console.WriteLine($"–ö–æ—Ä–µ–Ω—å: {categoryTree.name} (–¥–µ—Ç–µ–π: {categoryTree.Children.Count})");

// –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ –≥–ª—É–±–∏–Ω—É (Depth-First Search)
foreach (var node in categoryTree.DepthFirstTraversal())
{
    var indent = new string(' ', node.Level * 2);
    var statusIcon = node.properties.IsActive ? "‚úÖ" : "‚ùå";
    var discountInfo = node.properties.Discount?.ToString("P0") ?? "–Ω–µ—Ç —Å–∫–∏–¥–∫–∏";
    
    Console.WriteLine($"{indent}‚îú‚îÄ {statusIcon} {node.Name}");
    Console.WriteLine($"{indent}   üìã {node.properties.Description}");
    Console.WriteLine($"{indent}   üè∑Ô∏è –ö–æ–¥: {node.properties.Code}, –°–∫–∏–¥–∫–∞: {discountInfo}");
    Console.WriteLine($"{indent}   üìä –£—Ä–æ–≤–µ–Ω—å: {node.Level}, –î–µ—Ç–µ–π: {node.Children.Count}");
}

// –í—ã–≤–æ–¥:
// –ö–æ—Ä–µ–Ω—å: üè™ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω (–¥–µ—Ç–µ–π: 2)
// ‚îú‚îÄ ‚úÖ üè™ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
//    üìã –í—Å–µ —Ç–æ–≤–∞—Ä—ã  
//    üè∑Ô∏è –ö–æ–¥: ROOT, –°–∫–∏–¥–∫–∞: –Ω–µ—Ç —Å–∫–∏–¥–∫–∏
//    üìä –£—Ä–æ–≤–µ–Ω—å: 0, –î–µ—Ç–µ–π: 2
//   ‚îú‚îÄ ‚úÖ üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞
//      üìã –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –≥–∞–¥–∂–µ—Ç—ã
//      üè∑Ô∏è –ö–æ–¥: ELECTRONICS, –°–∫–∏–¥–∫–∞: –Ω–µ—Ç —Å–∫–∏–¥–∫–∏  
//      üìä –£—Ä–æ–≤–µ–Ω—å: 1, –î–µ—Ç–µ–π: 2
//     ‚îú‚îÄ ‚úÖ üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã
//        üìã –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã
//        üè∑Ô∏è –ö–æ–¥: SMARTPHONES, –°–∫–∏–¥–∫–∞: 5%
//        üìä –£—Ä–æ–≤–µ–Ω—å: 2, –î–µ—Ç–µ–π: 0
//     ‚îú‚îÄ ‚úÖ üíª –ù–æ—É—Ç–±—É–∫–∏
//        üìã –ù–æ—É—Ç–±—É–∫–∏ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã
//        üè∑Ô∏è –ö–æ–¥: LAPTOPS, –°–∫–∏–¥–∫–∞: 10%
//        üìä –£—Ä–æ–≤–µ–Ω—å: 2, –î–µ—Ç–µ–π: 0
//   ‚îú‚îÄ ‚úÖ üëï –û–¥–µ–∂–¥–∞
//      üìã –û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å
//      üè∑Ô∏è –ö–æ–¥: CLOTHING, –°–∫–∏–¥–∫–∞: –Ω–µ—Ç —Å–∫–∏–¥–∫–∏
//      üìä –£—Ä–æ–≤–µ–Ω—å: 1, –î–µ—Ç–µ–π: 0
```

#### **–ü—Ä–∏–º–µ—Ä 3: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –¥–µ—Ä–µ–≤–∞**

```csharp
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ö–ª–µ–±–Ω—ã—Ö –∫—Ä–æ—à–µ–∫ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
var breadcrumbs = smartphones.GetBreadcrumbs(" ‚Üí ");
Console.WriteLine($"–ù–∞–≤–∏–≥–∞—Ü–∏—è: {breadcrumbs}");
// –í—ã–≤–æ–¥: "üè™ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω ‚Üí üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ ‚Üí üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã"

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ ID –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
var pathIds = smartphones.GetPathIds();
Console.WriteLine($"–ü—É—Ç—å ID: [{string.Join(", ", pathIds)}]");
// –í—ã–≤–æ–¥: "–ü—É—Ç—å ID: [1, 2, 4]"

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π
var isDescendant = smartphones.IsDescendantOf(rootCategory);
var isAncestor = rootCategory.IsAncestorOf(smartphones);
Console.WriteLine($"–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã - –ø–æ—Ç–æ–º–æ–∫ –∫–æ—Ä–Ω—è: {isDescendant}");         // true
Console.WriteLine($"–ö–æ—Ä–µ–Ω—å - –ø—Ä–µ–¥–æ–∫ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤: {isAncestor}");           // true

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
Console.WriteLine($"–†–∞–∑–º–µ—Ä –ø–æ–¥–¥–µ—Ä–µ–≤–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏: {electronics.SubtreeSize} —É–∑–ª–æ–≤");
Console.WriteLine($"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –æ—Ç –∫–æ—Ä–Ω—è: {categoryTree.MaxDepth} —É—Ä–æ–≤–Ω–µ–π");

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥–∫–æ–≤
var ancestors = smartphones.Ancestors.Reverse(); // –û—Ç –∫–æ—Ä–Ω—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—é
Console.WriteLine("–ü—Ä–µ–¥–∫–∏ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤:");
foreach (var ancestor in ancestors)
{
    Console.WriteLine($"  ‚Üê {ancestor.Name} (—É—Ä–æ–≤–µ–Ω—å {ancestor.Level})");
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏
var descendants = electronics.Descendants;
Console.WriteLine($"–ü–æ—Ç–æ–º–∫–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ ({descendants.Count()}):");
foreach (var descendant in descendants)
{
    Console.WriteLine($"  ‚Üí {descendant.Name} (—É—Ä–æ–≤–µ–Ω—å {descendant.Level})");
}
```

#### **–ü—Ä–∏–º–µ—Ä 4: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∑–ª–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ**

```csharp
// –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏–∑ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –≤ –æ–¥–µ–∂–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ö–ª—ã –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤)
Console.WriteLine("–ü–µ—Ä–µ–º–µ—â–∞–µ–º —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –æ–¥–µ–∂–¥—ã...");
await redbService.MoveObjectAsync(smartphones, clothing);

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
var updatedTree = await redbService.LoadTreeAsync<CategoryProps>(rootCategory, maxDepth: 3);
Console.WriteLine("–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:");

foreach (var node in updatedTree.DepthFirstTraversal())
{
    var indent = new string(' ', node.Level * 2);  
    Console.WriteLine($"{indent}‚îú‚îÄ {node.Name}");
}

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ
Console.WriteLine("–í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É...");
await redbService.MoveObjectAsync(smartphones, electronics);
```

### üéõÔ∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ä–µ–≤—å—è–º–∏

#### **–û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ —à–∏—Ä–∏–Ω—É (Breadth-First Search)**

```csharp
// –û–±—Ö–æ–¥ –ø–æ —É—Ä–æ–≤–Ω—è–º - —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ —É–∑–ª—ã —É—Ä–æ–≤–Ω—è 0, –ø–æ—Ç–æ–º —É—Ä–æ–≤–Ω—è 1, –∏ —Ç.–¥.
foreach (var node in categoryTree.BreadthFirstTraversal())
{
    Console.WriteLine($"[–£—Ä–æ–≤–µ–Ω—å {node.Level}] {node.Name}");
}

// –í—ã–≤–æ–¥:
// [–£—Ä–æ–≤–µ–Ω—å 0] üè™ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
// [–£—Ä–æ–≤–µ–Ω—å 1] üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞  
// [–£—Ä–æ–≤–µ–Ω—å 1] üëï –û–¥–µ–∂–¥–∞
// [–£—Ä–æ–≤–µ–Ω—å 2] üì± –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã
// [–£—Ä–æ–≤–µ–Ω—å 2] üíª –ù–æ—É—Ç–±—É–∫–∏
```

#### **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –≤ –¥–µ—Ä–µ–≤–µ**

```csharp
// –ü–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ —Å–∫–∏–¥–∫–∞–º–∏
var discountCategories = categoryTree.GetSubtree()
    .Where(node => node.properties.IsActive)
    .Where(node => node.properties.Discount.HasValue && node.properties.Discount > 0)
    .ToList();

Console.WriteLine("–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ —Å–∫–∏–¥–∫–∞–º–∏:");
foreach (var category in discountCategories)
{
    Console.WriteLine($"  üè∑Ô∏è {category.Name}: —Å–∫–∏–¥–∫–∞ {category.properties.Discount:P0}");
}

// –ü–æ–∏—Å–∫ –ª–∏—Å—Ç–æ–≤—ã—Ö —É–∑–ª–æ–≤ (–∫–æ–Ω–µ—á–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
var leafCategories = categoryTree.GetSubtree()
    .Where(node => node.IsLeaf)
    .ToList();

Console.WriteLine($"–ö–æ–Ω–µ—á–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ({leafCategories.Count}):");
foreach (var leaf in leafCategories)
{
    Console.WriteLine($"  üçÉ {leaf.Name} - {leaf.properties.Description}");
}
```

#### **TreeCollection - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –¥–µ—Ä–µ–≤—å–µ–≤**

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ä–µ–≤—å—è–º–∏
var treeCollection = new TreeCollection<CategoryProps>();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞
foreach (var node in categoryTree.GetSubtree())
{
    treeCollection.Add(node);
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
var stats = treeCollection.GetStats();
Console.WriteLine($"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ TreeCollection: {stats}");
// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ TreeCollection: Nodes: 5, Levels: 3, Leaves: 3, MaxDepth: 2

// –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ ID
var foundNode = treeCollection.FindById(smartphones.Id);
Console.WriteLine($"–ù–∞–π–¥–µ–Ω —É–∑–µ–ª: {foundNode?.Name}");

// –ü–æ–ª—É—á–µ–Ω–∏–µ —É–∑–ª–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—é
var level1Nodes = treeCollection.GetNodesByLevel(1);
Console.WriteLine($"–£–∑–ª–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ 1: {level1Nodes.Count()}");
```

---

## üì¶ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –º–∞—Å—Å–∏–≤—ã

REDB –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ª—é–±—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤ –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—è –∏—Ö —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –∑–∞–≥—Ä—É–∑–∫–æ–π.

### üéØ –¢–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π

#### **1. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (Nested Objects)**

```csharp
public class CompanyProps
{
    public string Name { get; set; } = "";
    public string Industry { get; set; } = "";
    
    // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
    public RedbObject<EmployeeProps>? CEO { get; set; }
    
    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —à—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–µ –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
    public RedbObject<AddressProps>? Headquarters { get; set; }
}

public class EmployeeProps  
{
    public string FirstName { get; set; } = "";
    public string LastName { get; set; } = "";
    public decimal Salary { get; set; }
    public DateTime HireDate { get; set; }
    
    // –ï—â–µ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ - –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    public RedbObject<EmployeeProps>? Manager { get; set; }
}

public class AddressProps
{
    public string Country { get; set; } = "";
    public string City { get; set; } = "";
    public string Street { get; set; } = "";
    public string ZipCode { get; set; } = "";
}
```

#### **2. –ú–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–∫—Ç–æ–≤ (Object Arrays)**

```csharp
public class ProjectProps
{
    public string Name { get; set; } = "";
    public DateTime StartDate { get; set; }
    public decimal Budget { get; set; }
    
    // –ú–∞—Å—Å–∏–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
    public RedbObject<EmployeeProps>[]? TeamMembers { get; set; }
    
    // –ú–∞—Å—Å–∏–≤ —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞  
    public RedbObject<MilestoneProps>[]? Milestones { get; set; }
    
    // –ú–∞—Å—Å–∏–≤—ã –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
    public string[]? Tags { get; set; }
    public int[]? Priorities { get; set; }
    public DateTime[]? ImportantDates { get; set; }
}

public class MilestoneProps
{
    public string Title { get; set; } = "";
    public DateTime DueDate { get; set; }
    public bool IsCompleted { get; set; }
    public decimal Cost { get; set; }
    
    // –í–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á –≤ —ç—Ç–∞–ø–µ
    public RedbObject<TaskProps>[]? Tasks { get; set; }
}

public class TaskProps
{
    public string Description { get; set; } = "";
    public int Priority { get; set; }
    public RedbObject<EmployeeProps>? Assignee { get; set; }
}
```

### üíª –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
var ceo = await RedbObjectFactory.CreateAsync(new EmployeeProps
{
    FirstName = "–°—Ç–∏–≤",
    LastName = "–î–∂–æ–±—Å", 
    Salary = 1m, // –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞
    HireDate = new DateTime(1976, 4, 1)
});
ceo.name = "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä";

var headquarters = await RedbObjectFactory.CreateAsync(new AddressProps
{
    Country = "–°–®–ê",
    City = "–ö—É–ø–µ—Ä—Ç–∏–Ω–æ",
    Street = "1 Infinite Loop",
    ZipCode = "95014"
});
headquarters.name = "–®—Ç–∞–±-–∫–≤–∞—Ä—Ç–∏—Ä–∞ Apple";

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–µ–∫—Ç–∞
var teamMembers = await RedbObjectFactory.CreateBatchAsync(
    new EmployeeProps { FirstName = "–î–∂–æ–Ω", LastName = "–ê–π–≤", Salary = 200000, HireDate = DateTime.Now.AddYears(-10) },
    new EmployeeProps { FirstName = "–ö—Ä–µ–π–≥", LastName = "–§–µ–¥–µ—Ä–∏–≥–∏", Salary = 180000, HireDate = DateTime.Now.AddYears(-8) },
    new EmployeeProps { FirstName = "–¢–∏–º", LastName = "–ö—É–∫", Salary = 250000, HireDate = DateTime.Now.AddYears(-12) }
);

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–º–µ–Ω –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
teamMembers[0].name = "–ì–ª–∞–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω–µ—Ä";
teamMembers[1].name = "–í–∏—Ü–µ-–ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –ø–æ –ü–û";  
teamMembers[2].name = "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä";

// –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∫–æ–º–ø–∞–Ω–∏–∏ —Å –ø–æ–ª–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
var company = await RedbObjectFactory.CreateAsync(new CompanyProps
{
    Name = "Apple Inc.",
    Industry = "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"
});

company.name = "Apple Inc.";
company.properties.CEO = ceo;
company.properties.Headquarters = headquarters;

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–æ–π –∏ —ç—Ç–∞–ø–∞–º–∏
var project = await RedbObjectFactory.CreateAsync(new ProjectProps
{
    Name = "iPhone Development",
    StartDate = new DateTime(2005, 1, 1),
    Budget = 150000000m,
    Tags = new[] { "mobile", "innovation", "flagship" },
    Priorities = new[] { 1, 2, 1, 3 },
    ImportantDates = new[] 
    { 
        new DateTime(2007, 1, 9),   // –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è
        new DateTime(2007, 6, 29)   // –†–µ–ª–∏–∑
    }
});

project.name = "–ü—Ä–æ–µ–∫—Ç iPhone";
project.properties.TeamMembers = teamMembers;

// –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
var milestones = new[]
{
    await RedbObjectFactory.CreateAsync(new MilestoneProps
    {
        Title = "–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –¥–∏–∑–∞–π–Ω",
        DueDate = new DateTime(2005, 12, 31),
        IsCompleted = true,
        Cost = 5000000m
    }),
    await RedbObjectFactory.CreateAsync(new MilestoneProps  
    {
        Title = "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞",
        DueDate = new DateTime(2006, 6, 30),
        IsCompleted = true, 
        Cost = 25000000m
    }),
    await RedbObjectFactory.CreateAsync(new MilestoneProps
    {
        Title = "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
        DueDate = new DateTime(2007, 3, 31),
        IsCompleted = true,
        Cost = 50000000m
    })
};

milestones[0].name = "–≠—Ç–∞–ø 1: –ö–æ–Ω—Ü–µ–ø—Ü–∏—è";
milestones[1].name = "–≠—Ç–∞–ø 2: –ü—Ä–æ—Ç–æ—Ç–∏–ø";  
milestones[2].name = "–≠—Ç–∞–ø 3: –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ";

project.properties.Milestones = milestones;

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ - –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
long projectId = await redbService.SaveAsync(project);
Console.WriteLine($"–ü—Ä–æ–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å ID: {projectId}");
Console.WriteLine("–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω—ã —Å—Ö–µ–º—ã: CompanyProps, EmployeeProps, AddressProps, ProjectProps, MilestoneProps, TaskProps");
```

### üéõÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≥–ª—É–±–∏–Ω—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä `depth`** –≤ `LoadAsync()` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≥–ª—É–±–æ–∫–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:

```csharp
// –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (depth = 0)
var projectShallow = await redbService.LoadAsync<ProjectProps>(projectId, depth: 0);
Console.WriteLine($"Shallow: TeamMembers = {projectShallow.properties.TeamMembers?.Length ?? 0}"); 
// –í—ã–≤–æ–¥: "Shallow: TeamMembers = 0" (–º–∞—Å—Å–∏–≤ null, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å –≥–ª—É–±–∏–Ω–æ–π 1 (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏)
var projectDepth1 = await redbService.LoadAsync<ProjectProps>(projectId, depth: 1);
Console.WriteLine($"Depth 1: TeamMembers = {projectDepth1.properties.TeamMembers?.Length ?? 0}");
Console.WriteLine($"Depth 1: CEO Manager = {projectDepth1.properties.TeamMembers?[0]?.properties.Manager?.name ?? "null"}");
// –í—ã–≤–æ–¥: "Depth 1: TeamMembers = 3, CEO Manager = null" (–≤—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å –≥–ª—É–±–∏–Ω–æ–π 2 (–¥–≤–∞ —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏)  
var projectDepth2 = await redbService.LoadAsync<ProjectProps>(projectId, depth: 2);
Console.WriteLine($"Depth 2: Milestones = {projectDepth2.properties.Milestones?.Length ?? 0}");
if (projectDepth2.properties.Milestones?[0]?.properties.Tasks != null)
{
    Console.WriteLine($"Depth 2: Tasks in Milestone 1 = {projectDepth2.properties.Milestones[0].properties.Tasks.Length}");
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å –ø–æ–ª–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é depth = 10)
var projectFull = await redbService.LoadAsync<ProjectProps>(projectId);
Console.WriteLine("Full depth: –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é");

// –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
AnalyzeProjectStructure(projectFull);
```

### üìä –ê–Ω–∞–ª–∏–∑ –∏ –æ–±—Ö–æ–¥ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

```csharp
static void AnalyzeProjectStructure(RedbObject<ProjectProps> project)
{
    Console.WriteLine($"üìã –ü—Ä–æ–µ–∫—Ç: {project.name}");
    Console.WriteLine($"   üí∞ –ë—é–¥–∂–µ—Ç: ${project.properties.Budget:N0}");
    Console.WriteLine($"   üìÖ –ù–∞—á–∞–ª–æ: {project.properties.StartDate:yyyy-MM-dd}");
    Console.WriteLine($"   üè∑Ô∏è –¢–µ–≥–∏: [{string.Join(", ", project.properties.Tags ?? Array.Empty<string>())}]");
    
    // –ê–Ω–∞–ª–∏–∑ –∫–æ–º–∞–Ω–¥—ã
    if (project.properties.TeamMembers != null)
    {
        Console.WriteLine($"   üë• –ö–æ–º–∞–Ω–¥–∞ ({project.properties.TeamMembers.Length}):");
        foreach (var member in project.properties.TeamMembers)
        {
            Console.WriteLine($"      ‚Ä¢ {member.properties.FirstName} {member.properties.LastName}");
            Console.WriteLine($"        üíº {member.name}, üí∞ ${member.properties.Salary:N0}");
            Console.WriteLine($"        üìÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å {member.properties.HireDate:yyyy-MM-dd}");
            
            if (member.properties.Manager != null)
            {
                Console.WriteLine($"        üëî –ú–µ–Ω–µ–¥–∂–µ—Ä: {member.properties.Manager.properties.FirstName} {member.properties.Manager.properties.LastName}");
            }
        }
    }
    
    // –ê–Ω–∞–ª–∏–∑ —ç—Ç–∞–ø–æ–≤
    if (project.properties.Milestones != null)
    {
        Console.WriteLine($"   üéØ –≠—Ç–∞–ø—ã ({project.properties.Milestones.Length}):");
        foreach (var milestone in project.properties.Milestones)
        {
            var status = milestone.properties.IsCompleted ? "‚úÖ" : "‚è≥"; 
            Console.WriteLine($"      {status} {milestone.properties.Title}");
            Console.WriteLine($"         üìÖ –°—Ä–æ–∫: {milestone.properties.DueDate:yyyy-MM-dd}");
            Console.WriteLine($"         üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: ${milestone.properties.Cost:N0}");
            
            if (milestone.properties.Tasks != null)
            {
                Console.WriteLine($"         üìã –ó–∞–¥–∞—á: {milestone.properties.Tasks.Length}");
                foreach (var task in milestone.properties.Tasks)
                {
                    Console.WriteLine($"            ‚Ä¢ {task.properties.Description} (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {task.properties.Priority})");
                    if (task.properties.Assignee != null)
                    {
                        Console.WriteLine($"              üë§ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: {task.properties.Assignee.properties.FirstName} {task.properties.Assignee.properties.LastName}");
                    }
                }
            }
        }
    }
}
```

### ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

```csharp
// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –¥–ª—è UI
var projectForList = await redbService.LoadAsync<ProjectProps>(projectId, depth: 0);
// –ë—ã—Å—Ç—Ä–æ - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é  
var projectHeader = await redbService.LoadAsync<ProjectProps>(projectId, depth: 1);
// –ó–∞–≥—Ä—É–∑–∏–ª–∏ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é + –∫–æ–º–∞–Ω–¥—É

// –ü–æ—Ç–æ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç—Ç–∞–ø–∞—Ö
if (needMilestoneDetails)
{
    var fullProject = await redbService.LoadAsync<ProjectProps>(projectId, depth: 3);
    // –ü–æ–ª–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ –∑–∞–¥–∞—á–∞–º–∏
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
var projectIds = new long[] { 1, 2, 3, 4, 5 };
var projects = new List<RedbObject<ProjectProps>>();

foreach (var id in projectIds)
{
    var proj = await redbService.LoadAsync<ProjectProps>(id, depth: 1);
    projects.Add(proj);
}

// –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
var totalTeamSize = projects.Sum(p => p.properties.TeamMembers?.Length ?? 0);
var averageBudget = projects.Average(p => (double)p.properties.Budget);

Console.WriteLine($"–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥: {totalTeamSize} —á–µ–ª–æ–≤–µ–∫");
Console.WriteLine($"–°—Ä–µ–¥–Ω–∏–π –±—é–¥–∂–µ—Ç: ${averageBudget:N0}");
```

**üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –≤ REDB:**

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞  
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –≥–ª—É–±–∏–Ω—ã** - –ø–∞—Ä–∞–º–µ—Ç—Ä `depth` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤** - –∫–∞–∫ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤, —Ç–∞–∫ –∏ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã** - REDB —Å–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (EAV –º–æ–¥–µ–ª—å)

REDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é EAV –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤:

### üèõÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Å—Ö–µ–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)**

**`_schemes`** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ö–µ–º –æ–±—ä–µ–∫—Ç–æ–≤:
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ C# –∫–ª–∞—Å—Å–æ–≤
- –ê–ª–∏–∞—Å—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

**`_structures`** - –ü–æ–ª—è —Å—Ö–µ–º (–∫–æ–ª–æ–Ω–∫–∏):
- –û–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**`_types`** - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:
```sql
INSERT INTO _types VALUES 
(-9223372036854775700, 'String', 'String', 'string'),
(-9223372036854775704, 'Long', 'Long', 'long'), 
(-9223372036854775709, 'Boolean', 'Boolean', 'boolean'),
(-9223372036854775703, 'Object', 'Long', '_RObject'),
(-9223372036854775701, 'ByteArray', 'ByteArray', 'byte[]');
```

#### **–î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–æ–≤**

**`_objects`** - –°—É—â–Ω–æ—Å—Ç–∏ (Entities):
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—ä–µ–∫—Ç–∞—Ö
- –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ `_id_parent`
- –ê—É–¥–∏—Ç: –≤–ª–∞–¥–µ–ª–µ—Ü, –∫—Ç–æ –∏–∑–º–µ–Ω–∏–ª, –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è
- MD5 —Ö–µ—à –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

**`_values`** - –ê—Ç—Ä–∏–±—É—Ç—ã (Attributes):
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –°—Ç–æ–ª–±—Ü—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö: `_String`, `_Long`, `_Double`, etc.
- –°–≤—è–∑—å "—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–æ–±—ä–µ–∫—Ç" –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

**`_deleted_objects`** - –ê—É–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–π:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ `_values`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä `TR__objects__deleted_objects`

#### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**

**`_users`** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã:
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ `SimplePasswordHasher`
- –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –¥–∞—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/—É–≤–æ–ª—å–Ω–µ–Ω–∏—è
- –ê–¥–º–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `id=-9223372036854775800, login='admin'`

**`_roles`** + **`_users_roles`** - –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å:
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- M:N —Å–≤—è–∑—å —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

**`_permissions`** - –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞:
- –ù–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤: SELECT, INSERT, UPDATE, DELETE
- –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π: `_id_user` XOR `_id_role`
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞ = –ª–∏—á–Ω—ã–µ + —Ä–æ–ª–µ–≤—ã–µ

#### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

**`_lists`** + **`_list_items`** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:
- –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å–≤—è–∑–∏ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–∞–∫ –∏ —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã

**`_functions`** - –•—Ä–∞–Ω–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JavaScript –¥–ª—è Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å—Ö–µ–º–∞–º –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏

**`_dependencies`** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—Ö–µ–º:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—Ö–µ–º–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## üéõÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**RedbServiceConfiguration** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

### ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```csharp
public class RedbServiceConfiguration
{
    // === –°–¢–†–ê–¢–ï–ì–ò–ò –û–ë–†–ê–ë–û–¢–ö–ò –î–ê–ù–ù–´–• ===
    public ObjectIdResetStrategy IdResetStrategy { get; set; } = Manual;
    public MissingObjectStrategy MissingObjectStrategy { get; set; } = ThrowException;
    public EavSaveStrategy EavSaveStrategy { get; set; } = ChangeTracking;
    
    // === –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ ===
    public bool DefaultCheckPermissionsOnLoad { get; set; } = false;
    public bool DefaultCheckPermissionsOnSave { get; set; } = false;
    public bool DefaultCheckPermissionsOnDelete { get; set; } = true;
    public bool DefaultCheckPermissionsOnQuery { get; set; } = false;
    
    // === –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ ===
    public int DefaultLoadDepth { get; set; } = 10;
    public int DefaultMaxTreeDepth { get; set; } = 50;
    public bool EnableMetadataCache { get; set; } = true;
    public int MetadataCacheLifetimeMinutes { get; set; } = 30;
    
    // === –í–ê–õ–ò–î–ê–¶–ò–Ø –ò –ê–£–î–ò–¢ ===
    public bool EnableSchemaValidation { get; set; } = true;
    public bool AutoSetModifyDate { get; set; } = true;
    public bool AutoRecomputeHash { get; set; } = true;
}
```

### üìà –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**EavSaveStrategy.ChangeTracking** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ë–î
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**EavSaveStrategy.DeleteInsert**:  
- –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ
- –ü—Ä–æ—Å—Ç–∞—è, –Ω–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤

---

## üíæ –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

REDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

### üéØ GlobalMetadataCache

–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–µ—à –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é:

```csharp
public static class GlobalMetadataCache
{
    // –ö–µ—à —Å—Ö–µ–º –ø–æ –∏–º–µ–Ω–∏ –∏ ID
    private static readonly ConcurrentDictionary<string, IRedbScheme> _schemeByName;
    private static readonly ConcurrentDictionary<long, IRedbScheme> _schemeById;
    
    // –ö–µ—à —Ç–∏–ø–æ–≤
    private static readonly ConcurrentDictionary<string, long> _typeCache;
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    public static CacheStatistics GetStatistics();
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –°—Ö–µ–º—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ warmup –ø—Ä–æ–≥—Ä–µ–≤–∞ –∫–µ—à–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞

**CacheStatistics** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É:
```csharp
public class CacheStatistics
{
    public long SchemeHits { get; set; }         // –ü–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∫–µ—à —Å—Ö–µ–º
    public long SchemeMisses { get; set; }       // –ü—Ä–æ–º–∞—Ö–∏ –∫–µ—à–∞ —Å—Ö–µ–º  
    public double HitRatio => Hits / (double)TotalRequests; // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π
    public DateTime LastResetTime { get; set; }  // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±—Ä–æ—Å–∞
    public int CachedSchemesCount { get; set; }  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º
}
```

### üé® –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:

---

## üîß –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

REDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏. –ö–∞–∂–¥—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

### üèõÔ∏è –ò–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**

**ISchemeSyncProvider** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–∞–º–∏:
```csharp
public interface ISchemeSyncProvider 
{
    Task<IRedbScheme> EnsureSchemeFromTypeAsync<TProps>();  // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –∏–∑ C# –∫–ª–∞—Å—Å–∞
    Task<List<IRedbStructure>> SyncStructuresFromTypeAsync<TProps>();  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π
    Task<IRedbScheme> SyncSchemeAsync<TProps>();  // –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
}
```

**IObjectStorageProvider** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:
```csharp
public interface IObjectStorageProvider
{
    Task<RedbObject<TProps>> LoadAsync<TProps>(long objectId, int depth = 10);  // –ó–∞–≥—Ä—É–∑–∫–∞
    Task<long> SaveAsync<TProps>(IRedbObject<TProps> obj);  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    Task<bool> DeleteAsync<TProps>(IRedbObject<TProps> obj);  // –£–¥–∞–ª–µ–Ω–∏–µ
}
```

**IPermissionProvider** - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```csharp
public interface IPermissionProvider
{
    Task<bool> CanUserEditObject(IRedbObject obj);  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    Task<EffectivePermissionResult> GetEffectivePermissionsAsync();  // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞
    IQueryable<long> GetReadableObjectIds();  // ID –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
}
```

#### **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**

**ITreeProvider** - –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- `GetTreeAsync<TProps>()` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞
- `GetChildrenAsync<TProps>()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**IQueryableProvider** - LINQ –∑–∞–ø—Ä–æ—Å—ã:
- –¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è LINQ –≤ SQL –¥–ª—è EAV –º–æ–¥–µ–ª–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

**IUserProvider** / **IRoleProvider** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é:
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Ä–æ–ª—å

### üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

‚úÖ **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π  
‚úÖ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** - IRedbService –∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã  
‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ RedbServiceConfiguration  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–º–æ–∫–∞–ø—ã  

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üöÄ –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä - —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```csharp
// 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏ (–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
RedbObjectFactory.Initialize(serviceProvider.GetService<ISchemeSyncProvider>());

// 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (—Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞)
public class AnalyticsRecordProps
{
    public double? Costs { get; set; }
    public int? Rate { get; set; }
    public string? Description { get; set; }
    public RedbObject<AnalyticsMetricsProps>? Metrics { get; set; }  // –í–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
    public RedbObject<AnalyticsMetricsProps>[]? MetricsArray { get; set; }  // –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
}

// 3. –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É (–≤—Å–µ –ø–æ–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!)
var analyticsRecord = await RedbObjectFactory.CreateAsync(new AnalyticsRecordProps
{
    Costs = 15750.50,
    Rate = 85,
    Description = "–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤—ã—à–µ –ø–ª–∞–Ω–æ–≤—ã—Ö –Ω–∞ 12%"
});

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
analyticsRecord.name = "–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –∑–∞ Q4 2024";
analyticsRecord.note = "–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π";
// owner_id, who_change_id, date_create, scheme_id —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

// 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç
long objectId = await redbService.SaveAsync(analyticsRecord);
logger.LogInformation($"–û–±—ä–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å ID: {objectId}");

// 5. –ó–∞–≥—Ä—É–∂–∞–µ–º –æ–±—ä–µ–∫—Ç –æ–±—Ä–∞—Ç–Ω–æ
var loadedRecord = await redbService.LoadAsync<AnalyticsRecordProps>(objectId);
Console.WriteLine($"–ó–∞–≥—Ä—É–∂–µ–Ω: {loadedRecord.name}, Costs: {loadedRecord.properties.Costs}");
```

### üè≠ –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

```csharp
// –ï—Å–ª–∏ —Ñ–∞–±—Ä–∏–∫–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏–ª–∏ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
var analyticsRecord = new RedbObject<AnalyticsRecordProps>
{
    name = "–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –∑–∞ Q4 2024",
    note = "–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π",
    owner_id = currentUserId,
    who_change_id = currentUserId,
    date_create = DateTime.Now,
    date_modify = DateTime.Now,
    properties = new AnalyticsRecordProps
    {
        Costs = 15750.50,
        Rate = 85,
        Description = "–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤—ã—à–µ –ø–ª–∞–Ω–æ–≤—ã—Ö –Ω–∞ 12%"
    }
};

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ - —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
long objectId = await redbService.SaveAsync(analyticsRecord);
```

### üå≥ –†–∞–±–æ—Ç–∞ —Å –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏
var rootCategory = await RedbObjectFactory.CreateAsync(new CategoryProps 
{
    Code = "ELECTRONICS", 
    IsActive = true 
});
rootCategory.name = "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞";

long rootId = await redbService.SaveAsync(rootCategory);

// –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç parent_id)
var subCategory = await RedbObjectFactory.CreateChildAsync(rootCategory, new CategoryProps 
{
    Code = "SMARTPHONES", 
    IsActive = true 
});
subCategory.name = "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã";
await redbService.SaveAsync(subCategory);

// –°–æ–∑–¥–∞–Ω–∏–µ –µ—â–µ –æ–¥–Ω–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
var tabletCategory = await RedbObjectFactory.CreateChildAsync(rootCategory, new CategoryProps 
{
    Code = "TABLETS",
    IsActive = true
});
tabletCategory.name = "–ü–ª–∞–Ω—à–µ—Ç—ã";
await redbService.SaveAsync(tabletCategory);

// –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É–∫–∞ (–¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤)
var appleCategory = await RedbObjectFactory.CreateChildAsync(subCategory, new CategoryProps 
{
    Code = "APPLE_PHONES",
    IsActive = true
});
appleCategory.name = "Apple iPhone";
await redbService.SaveAsync(appleCategory);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤
var categoryTree = await redbService.GetTreeAsync<CategoryProps>(rootId, maxDepth: 10);
foreach (var category in categoryTree)
{
    var indent = new string(' ', category.Level * 2);
    Console.WriteLine($"{indent}–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category.name} (–î–µ—Ç–∏: {category.Children?.Count ?? 0})");
}

// –í—ã–≤–æ–¥:
// –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ (–î–µ—Ç–∏: 2)
//   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –°–º–∞—Ä—Ç—Ñ–æ–Ω—ã (–î–µ—Ç–∏: 1)
//     –ö–∞—Ç–µ–≥–æ—Ä–∏—è: Apple iPhone (–î–µ—Ç–∏: 0)
//   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–ª–∞–Ω—à–µ—Ç—ã (–î–µ—Ç–∏: 0)

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
var children = await redbService.GetChildrenAsync<CategoryProps>(rootId);
```

### üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
var newUser = await redbService.UserProvider.CreateUserAsync(new CreateUserRequest
{
    Login = "analyst",
    Password = "SecurePassword123",
    Name = "–ê–Ω–∞–ª–∏—Ç–∏–∫ –ò–≤–∞–Ω–æ–≤",
    Email = "analyst@company.com"
});

// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏  
var analystRole = await redbService.RoleProvider.CreateRoleAsync(new CreateRoleRequest
{
    Name = "Analyst",
    Description = "–†–æ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —á—Ç–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤"
});

// –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
await redbService.RoleProvider.AssignRoleAsync(newUser, analystRole);

// –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ –æ–±—ä–µ–∫—Ç
await redbService.GrantPermissionAsync(
    newUser, 
    analyticsRecord, 
    PermissionAction.Select | PermissionAction.Update
);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–µ–π
if (await redbService.CanUserEditObject(analyticsRecord, newUser))
{
    analyticsRecord.properties.Rate = 90;
    await redbService.SaveAsync(analyticsRecord, newUser);
}
```

### üîç LINQ –∑–∞–ø—Ä–æ—Å—ã –ø–æ EAV –º–æ–¥–µ–ª–∏

```csharp
// –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å–≤–æ–π—Å—Ç–≤–∞–º
var expensiveRecords = await redbService
    .GetAll<AnalyticsRecordProps>()
    .Where(r => r.properties.Costs > 10000)
    .Where(r => r.properties.Rate >= 80)
    .OrderByDescending(r => r.properties.Costs)
    .Take(10)
    .ToListAsync();

// –ü–æ–∏—Å–∫ –ø–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º
var recordsWithHighMetrics = await redbService
    .GetAll<AnalyticsRecordProps>()
    .Where(r => r.properties.Metrics != null && r.properties.Metrics.properties.Base > 500)
    .ToListAsync();

// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è
var statisticsByRate = await redbService
    .GetAll<AnalyticsRecordProps>()
    .GroupBy(r => r.properties.Rate)
    .Select(g => new { Rate = g.Key, Count = g.Count(), AvgCosts = g.Average(x => x.properties.Costs) })
    .ToListAsync();
```

---

## üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

REDB –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏—Ö –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ (redb.ConsoleTest)

**–≠—Ç–∞–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **Stage01_DatabaseConnection** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
2. **Stage02_LoadExistingObject** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤  
3. **Stage03_SchemaSync** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º
4. **Stage04_PermissionChecks** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
5. **Stage05_CreateObject** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
6. **Stage06_VerifyCreatedObject** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
7. **Stage07_UpdateObject** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
8. **Stage08_FinalVerification** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
9. **Stage09_DatabaseAnalysis** - –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
10. **Stage10_ComparativeAnalysis** - —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
11. **Stage11_ObjectDeletion** - —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
12. **Stage12_TreeFunctionality** - –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
13. **Stage13_LinqQueries** - LINQ –∑–∞–ø—Ä–æ—Å—ã
14. **Stage16_AdvancedLinq** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ LINQ –æ–ø–µ—Ä–∞—Ü–∏–∏
15. **Stage33_TreeLinqQueries** - LINQ –ø–æ –¥–µ—Ä–µ–≤—å—è–º
16. **Stage40_ChangeTrackingTest** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üéØ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
cd redb.ConsoleTest
dotnet run

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç—Ç–∞–ø–∞  
dotnet run --stage Stage05_CreateObject

# –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç—Ç–∞–ø–æ–≤
dotnet run --stages Stage05_CreateObject,Stage06_VerifyCreatedObject

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤
dotnet run --list
```

### üìä –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –∏–∑ Stage05_CreateObject

```csharp
public class Stage05_CreateObject : BaseTestStage
{
    protected override async Task ExecuteStageAsync(ILogger logger, IRedbService redb)
    {
        // üöÄ –ü–û–õ–ù–û–°–¢–¨–Æ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –°–•–ï–ú–ê
        // –°—Ö–µ–º—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏!
        var analyticsRecord = new RedbObject<AnalyticsRecordProps>
        {
            name = "–¢–µ—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç",
            properties = new AnalyticsRecordProps
            {
                Costs = 15750.50,
                Rate = 85,
                Description = "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏",
                MetricsArray = new RedbObject<AnalyticsMetricsProps>[]
                {
                    new RedbObject<AnalyticsMetricsProps>
                    {
                        name = "–ú–µ—Ç—Ä–∏–∫–∞ 1",
                        properties = new AnalyticsMetricsProps 
                        {
                            AdvertId = 10001,
                            Base = 150,
                            Baskets = 25
                        }
                    }
                }
            }
        };

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å—Ö–µ–º—ã
        long objectId = await redb.SaveAsync(analyticsRecord);
        
        logger.LogInformation($"‚úÖ –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å ID: {objectId}");
        logger.LogInformation($"üìä –°—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: AnalyticsRecordProps");
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        var loaded = await redb.LoadAsync<AnalyticsRecordProps>(objectId);
        Assert.Equal(analyticsRecord.properties.Costs, loaded.properties.Costs);
        
        CreatedObjectId = objectId;  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
    }
}
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### üìà –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:**
- Hit Ratio: 85-95% –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞: < 1ms –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º
- –ü–∞–º—è—Ç—å: ~10MB –Ω–∞ 1000 —Å—Ö–µ–º

**EAV –∑–∞–ø—Ä–æ—Å—ã:**
- –ü—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã: 10-50ms –∑–∞–≥—Ä—É–∑–∫–∞
- –°–ª–æ–∂–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è: 100-500ms –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≥–ª—É–±–∏–Ω—ã
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –¥–æ 1000 –æ–±—ä–µ–∫—Ç–æ–≤/—Å–µ–∫

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```csharp
// –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ - —Å—Ç—Ä–æ–≥–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
var productionConfig = new RedbServiceConfiguration
{
    DefaultCheckPermissionsOnLoad = true,
    DefaultCheckPermissionsOnSave = true, 
    DefaultCheckPermissionsOnDelete = true,
    EnableMetadataCache = true,
    DefaultLoadDepth = 5  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã
};

// –î–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - –º–∏–Ω–∏–º—É–º –ø—Ä–æ–≤–µ—Ä–æ–∫  
var performanceConfig = new RedbServiceConfiguration
{
    DefaultCheckPermissionsOnLoad = false,
    DefaultCheckPermissionsOnSave = false,
    DefaultCheckPermissionsOnDelete = false, 
    EnableMetadataCache = true,
    DefaultLoadDepth = 3,
    EavSaveStrategy = EavSaveStrategy.DeleteInsert  // –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –º–∞–ª—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
};
```

### üéõÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```csharp
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–µ—à–∞
var cacheStats = GlobalMetadataCache.GetStatistics();
logger.LogInformation($"–ö–µ—à —Å—Ö–µ–º - –ü–æ–ø–∞–¥–∞–Ω–∏–π: {cacheStats.SchemeHits}, –ü—Ä–æ–º–∞—Ö–æ–≤: {cacheStats.SchemeMisses}");
logger.LogInformation($"Hit Ratio: {cacheStats.HitRatio:P2}");

// –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
var stopwatch = Stopwatch.StartNew();
var objects = await redbService.GetAll<MyDataProps>().Take(100).ToListAsync();
stopwatch.Stop();
logger.LogInformation($"–ó–∞–≥—Ä—É–∑–∫–∞ 100 –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–Ω—è–ª–∞: {stopwatch.ElapsedMilliseconds}ms");
```

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**REDB Framework** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–æ—â–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–∏—Ö –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å—Ö–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

### ‚úÖ –ß—Ç–æ –¥–∞–µ—Ç REDB:

üéØ **–ì–∏–±–∫–æ—Å—Ç—å —Å—Ö–µ–º—ã** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î  
üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞  
üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ  
üèóÔ∏è **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL, SQL Server, SQLite  
üß™ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏  
üìä **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ C# –∫–ª–∞—Å—Å—ã  

### üé® –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

- **EAV –º–æ–¥–µ–ª—å** –¥–ª—è –≥–∏–±–∫–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏  
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** –≤ –≥–ª–∞–≤–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º** –∏–∑ C# –∫–ª–∞—Å—Å–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Entity Framework Core** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä** –∏–∑ –∫–æ—Ä–æ–±–∫–∏

### üöÄ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REDB:

‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–º–∏—Å—è —Å—Ö–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –°–∏—Å—Ç–µ–º—ã —Å –≥–∏–±–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏  
‚úÖ –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚úÖ –°–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º  
‚úÖ –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏  
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä—ã –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª–∏ —Ñ–æ—Ä–º  

REDB –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É –≥–∏–±–∫–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é! üéâ

---

## üõ†Ô∏è –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤

–§—Ä–µ–π–º–≤–æ—Ä–∫ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö NuGet –ø–∞–∫–µ—Ç–æ–≤:

```
redb.sln
‚îú‚îÄ‚îÄ redb.Core/                    # üìö –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –º–æ–¥–µ–ª–∏)
‚îú‚îÄ‚îÄ redb.Core.Postgres/           # üêò PostgreSQL –ø—Ä–æ–≤–∞–π–¥–µ—Ä  
‚îú‚îÄ‚îÄ redb.Core.MSSql/             # üè¢ SQL Server –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îú‚îÄ‚îÄ redb.Core.SQLite/            # üì± SQLite –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îú‚îÄ‚îÄ redb.ConsoleTest/            # üß™ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ redb.WebApp/                 # üåê Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îî‚îÄ‚îÄ simpleTreeTest/              # üå≥ –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã –¥–µ—Ä–µ–≤—å–µ–≤
```

### ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository_url>
cd redb

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è
dotnet build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)
cd redb.ConsoleTest
dotnet run

# –ó–∞–ø—É—Å–∫ Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd ../redb.WebApp  
dotnet run
```

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

**appsettings.json –¥–ª—è PostgreSQL:**
```json
{
  "ConnectionStrings": {
    "RedbConnection": "Host=localhost;Database=redb_dev;Username=postgres;Password=yourpassword"
  },
  "RedbConfiguration": {
    "EnableMetadataCache": true,
    "DefaultCheckPermissionsOnLoad": false,
    "DefaultLoadDepth": 10
  }
}
```

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:**
```csharp
services.AddDbContext<RedbContext>(options =>
    options.UseNpgsql(connectionString));

services.AddSingleton<RedbServiceConfiguration>();
services.AddScoped<IRedbService, RedbService>();
services.AddScoped<IRedbObjectSerializer, SystemTextJsonRedbSerializer>();
```

### üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### üîó –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**
- `redb.Core/IRedbService.cs` - –≥–ª–∞–≤–Ω—ã–π API —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- `redb.Core/Models/Contracts/IRedbObject.cs` - –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—ä–µ–∫—Ç–æ–≤
- `redb.Core/Models/RedbObjectFactory.cs` - —É–º–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (314 —Å—Ç—Ä–æ–∫)
- `redb.Core/Providers/` - –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Å–∏—Å—Ç–µ–º—ã

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `redb.Core/Models/Configuration/RedbServiceConfiguration.cs` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- `redb.Core/Caching/GlobalMetadataCache.cs` - —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- `redb.Core.Postgres/RedbService.cs` - PostgreSQL —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (597 —Å—Ç—Ä–æ–∫)
- `redb.Core.Postgres/Providers/` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

**–¢–µ—Å—Ç—ã –∏ –ø—Ä–∏–º–µ—Ä—ã:**
- `redb.ConsoleTest/TestStages/` - –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- `redb.ConsoleTest/Models/` - –ø—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

**SQL —Å—Ö–µ–º—ã:**
- `redb.Core.Postgres/sql/redbPostgre.sql` - —Å—Ö–µ–º–∞ –¥–ª—è PostgreSQL (2179 —Å—Ç—Ä–æ–∫)
- `redb.Core.SQLite/sql/redbsqlite.sql` - —Å—Ö–µ–º–∞ –¥–ª—è SQLite (469 —Å—Ç—Ä–æ–∫)

### üéì –ü–æ–Ω–∏–º–∞–Ω–∏–µ EAV –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**Entity-Attribute-Value** –º–æ–¥–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å –ª—é–±—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–æ–ª–µ–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –ë–î
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–¥
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—ã –∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ SQL JOIN'–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é

**REDB —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã EAV —á–µ—Ä–µ–∑:**
- üéØ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ C# –∫–ª–∞—Å—Å—ã –¥–ª—è compile-time –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚ö° –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üìä LINQ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- üîí –í—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

---

## üèÜ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

**REDB Framework** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π EAV —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è .NET —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º** –∏–∑ C# –∫–ª–∞—Å—Å–æ–≤ - –Ω–∏–∫–∞–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π –ë–î!
2. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ `RedbObject<TProps>`
3. **–£–º–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤** - `RedbObjectFactory` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
4. **–ú–æ—â–Ω—ã–µ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - `TreeRedbObject<TProps>` —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π, –æ–±—Ö–æ–¥–æ–º –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
5. **–ë–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** - –æ–±—ä–µ–∫—Ç—ã –≤ –æ–±—ä–µ–∫—Ç–∞—Ö, –º–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ–Ω—Ç—Ä–æ–ª—å –≥–ª—É–±–∏–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏
6. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ª–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ  
7. **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
8. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤** - –≥—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤
9. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** - –±–æ–ª–µ–µ 40 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

### üéØ –ò–¥–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- üè¢ **Enterprise —Å–∏—Å—Ç–µ–º—ã** —Å —á–∞—Å—Ç—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ —Å–ª–æ–∂–Ω—ã–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è–º–∏
- üé® **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä—ã** –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —É—Å–ª—É–≥ —Å –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–º–∏ –∫–∞—Ç–∞–ª–æ–≥–∞–º–∏
- üìä **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã** —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- üè™ **E-commerce** —Å–∏—Å—Ç–µ–º—ã —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ —Ç–æ–≤–∞—Ä–æ–≤
- üìã **CMS/CRM —Å–∏—Å—Ç–µ–º—ã** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- üå≥ **–°–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏, –º–µ–Ω—é, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- üèóÔ∏è **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –≥–∏–±–∫–∏–º–∏ —Å—Ö–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- üìÅ **–§–∞–π–ª–æ–≤—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã** –∏ —Å–∏—Å—Ç–µ–º—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞ —Å –ø–∞–ø–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- üéõÔ∏è **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ñ–æ—Ä–º** —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏

### üöÄ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL, SQL Server, SQLite  
‚úÖ Entity Framework Core –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
‚úÖ ASP.NET Core —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å  
‚úÖ Docker –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å  
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ –†–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç—ã  

**REDB –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å NoSQL —Å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö!** üéâ


–¥–∞–≤–∞–π —Å–æ–∑–¥–∞–¥–∏–º –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç (41) —Å –∑–∞–º–µ—Ä–æ–º –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–Ω–∏
–Ω–∞–ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 1000 –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ 3 —É—Ä–æ–≤–Ω—è
–≤—ã–±–æ—Ä–∫–∞ –≤—Å–µ–≥–æ –¥–µ—Ä–µ–≤–∞(–æ—Ç —Ä—É—Ç)
–≤—ã–±–æ—Ä–∫–∞ –æ–¥–Ω–æ–π –≤–µ—Ç–∫–∏
–≤—ã–±–æ—Ä–∫–∞ –æ—Ç —Ä—É—Ç –ø–æ –¥–µ—Ä–µ–≤—É —Å –ª–∏–Ω–∫—é(–∫–∞–∫ –±—ã—Å—Ç—Ä–æ –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç)
–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 500 –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–æ —Å–æ—Ö—Ä–∞—è—Ç—å –≤—Å–µ

—É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤(–ø–æ 1) –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —Ä—É—Ç —Ç–æ —É–¥–∞–ª–∏—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ
